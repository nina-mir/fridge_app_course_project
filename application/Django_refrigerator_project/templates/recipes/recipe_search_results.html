{% extends 'refrigerator_project/base.html' %} {% load static %} {% block content %}

<link rel="stylesheet" href="{% static '/css/favorite_icon.css' %}">

<style>
    .all-center {
        margin: 0;
        position: absolute;
        top: 50%;
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
        text-align: center
    }

    .vertical-center {
        margin: 0;
        position: absolute;
        top: 50%;
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
    }
</style>
<div class="container">
    <div class="row">
        <div class="col card map border-light mb-3"
            style="margin: auto; outline: none; border-radius: 0%; padding-top: 5px;">
            <h3 class="text-center">Recipes</h3>
        </div>
    </div>
    <div class="row">
        <div class="col card map border-light mb-3" style="outline: none; border-radius: 10px;">
            <span class="label label-info"
                style="margin:1%;text-align:center;color:white;background-color: #01B9F5;border-radius: 10px;padding:5px">{{current_fridge.name}}</span>
        </div>
    </div>
    <h3> Discovered Recipes:</h3>
    <div class="row">
        <div class="col">
            <!-- Display Found Recipes for Selected Grocery Items -->
            {% if recipes %} {% for each in recipes %}
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <h5 class="card-text">
                                <img src="{{ each.image_url }}" alt="recipe_img" style="height: 50px;">
                                <a class="vertical-center" style="padding-left: 20px;" href="{{ each.source_url }}">
                                    {{ each.title }}
                                </a>
                            </h5>
                        </div>
                        <div class="col-2">
                            <form method="POST">
                                {% csrf_token %}
                                <!-- <input class="like-button all-center" name="recipe_save"
                                    accept="image/*" onchange="this.form.submit()" /> -->

                                <button name="saved_recipe" value="{{ each.title }}, {{ each.source_url }}, {{ each.image_url }}"" class="like-button all-center" onchange="this.form.submit()"></button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div style="padding-top: 4px;"></div>
            {% endfor %} {% else %}
            <p style="text-align: center;">No Recipes Found</p>
            {% endif %}
        </div>
    </div>
</div>

<script>
    document.querySelector('.like-button').addEventListener('click', e => { e.currentTarget.classList.toggle('liked'); });
</script>

{% endblock %}
